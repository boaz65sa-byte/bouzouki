<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>×ª×§×¡×™× ××•×¡××§ - ×”××§×¦×•×¢×Ÿ</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; text-align: center; background-color: #1a1a1a; color: white; margin: 0; padding: 20px; }
        
        h1 { color: #f1c40f; margin-bottom: 10px; }
        p { color: #bbb; margin-top: 0; }

        .stage {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 20px;
        }

        /* --- ×”×¦×•×•××¨ --- */
        .neck-container {
            position: relative;
            width: 850px;
            height: 220px;
            background-color: #4e342e; /* ×¢×¥ */
            border: 6px solid #333;
            border-radius: 12px;
            display: flex;
            box-shadow: 0 10px 30px rgba(0,0,0,0.8);
            overflow: hidden; /* ×©×œ× ×™×¦××• ×“×‘×¨×™× ×”×—×•×¦×” */
        }

        /* ×¡×¨×™×’×™× */
        .fret {
            flex: 1;
            border-right: 5px solid #bdc3c7; /* ×¤×¡ ××ª×›×ª */
            position: relative;
            z-index: 5;
        }
        .fret:first-child { flex: 0.6; background-color: #3e2723; border-right: 10px solid #ecf0f1; } /* × ××˜ */

        .fret-num {
            position: absolute;
            bottom: 5px;
            width: 100%;
            text-align: center;
            font-size: 14px;
            color: rgba(255,255,255,0.5);
        }

        /* ××™×ª×¨×™× */
        .string {
            position: absolute;
            left: 0;
            width: 100%;
            background-color: #eee;
            box-shadow: 0 3px 5px rgba(0,0,0,0.6);
            z-index: 10;
        }
        .string::after {
            content: attr(data-note);
            position: absolute;
            right: 10px;
            top: -25px;
            color: #f39c12;
            font-weight: bold;
        }

        .s1 { top: 20%; height: 6px; } /* ×“×• */
        .s2 { top: 40%; height: 5px; } /* ×¤×” */
        .s3 { top: 60%; height: 4px; } /* ×œ×” */
        .s4 { top: 80%; height: 4px; border-bottom: 1px solid #ccc; } /* ×¨×” - ×¢×œ×™×• ×× ×’× ×™× */

        /* --- ×”×¡×™××•×Ÿ ×”××“×•× --- */
        .marker {
            width: 28px;
            height: 28px;
            background-color: #e74c3c;
            border: 3px solid white;
            border-radius: 50%;
            position: absolute;
            top: 77%; /* ×¢×œ ××™×ª×¨ ×¨×” */
            left: 50%;
            transform: translateX(-50%);
            z-index: 20;
            display: none;
            box-shadow: 0 0 20px #e74c3c;
        }
        .active .marker { display: block; animation: pop 0.2s ease-out; }

        @keyframes pop {
            0% { transform: translateX(-50%) scale(0); }
            80% { transform: translateX(-50%) scale(1.2); }
            100% { transform: translateX(-50%) scale(1); }
        }

        /* --- ××–×•×¨ ×”×”×•×¨××•×ª (×œ××˜×”/×œ××¢×œ×”) --- */
        .info-panel {
            margin-top: 30px;
            padding: 20px;
            background-color: #333;
            border-radius: 10px;
            width: 600px;
            border: 1px solid #444;
        }

        #pick-direction {
            font-size: 50px;
            font-weight: bold;
            color: #2ecc71;
            margin: 10px 0;
        }

        #note-desc {
            font-size: 24px;
            color: #f39c12;
        }

        button {
            padding: 15px 50px;
            font-size: 24px;
            background: linear-gradient(to bottom, #f1c40f, #f39c12);
            color: #222;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            margin-top: 20px;
            font-weight: bold;
            box-shadow: 0 5px 0 #d35400;
        }
        button:active { transform: translateY(5px); box-shadow: none; }

    </style>
</head>
<body>

    <h1>ğŸ» ×ª×§×¡×™× ××•×¡××§ - × ×©××”</h1>
    <p>× ×’×Ÿ ×œ××˜, ×”×§×¤×“ ×¢×œ ×›×™×•×•×Ÿ ×”×¤×¨×™×˜×”!</p>

    <div class="stage">
        <div class="neck-container">
            <div class="string s1" data-note="Do"></div>
            <div class="string s2" data-note="Fa"></div>
            <div class="string s3" data-note="La"></div>
            <div class="string s4" data-note="Re"></div>

            <div class="fret" id="f-0"><span class="fret-num">0</span><div class="marker"></div></div>
            <div class="fret" id="f-1"><span class="fret-num">1</span><div class="marker"></div></div>
            <div class="fret" id="f-2"><span class="fret-num">2</span></div>
            <div class="fret" id="f-3"><span class="fret-num">3</span><div class="marker"></div></div>
            <div class="fret" id="f-4"><span class="fret-num">4</span></div>
            <div class="fret" id="f-5"><span class="fret-num">5</span><div class="marker"></div></div>
            <div class="fret" id="f-6"><span class="fret-num">6</span></div>
            <div class="fret" id="f-7"><span class="fret-num">7</span></div>
        </div>

        <div class="info-panel">
            <div id="note-desc">×œ×—×¥ ×¢×œ ×”×›×¤×ª×•×¨ ×›×“×™ ×œ×”×ª×—×™×œ</div>
            <div id="pick-direction">--</div>
        </div>

        <button onclick="playNext()" id="btn">ğŸµ ×”×¦×œ×™×œ ×”×‘×</button>
    </div>

    <script>
        // --- ×–×” ×”××•×— ×©×œ ×”×ª×§×¡×™× ×©×œ×š ---
        // ×›××Ÿ ×× ×—× ×• ××’×“×™×¨×™× ××¢×¨×š ×©×œ ××•×‘×™×™×§×˜×™×.
        // ×›×œ ××•×‘×™×™×§×˜ ××›×™×œ: ××™×–×” ×¡×¨×™×’ (fret), ××™×–×” ×›×™×•×•×Ÿ ×¤×¨×™×˜×” (dir), ×•××” ×”××™×™×§×•×Ÿ (icon).
        
        const melody = [
            { fret: 0, dir: "×œ××˜×”", icon: "â¬‡ï¸", text: "×¤×ª×™×—×” (×¨×”)" },
            { fret: 1, dir: "×œ××¢×œ×”", icon: "â¬†ï¸", text: "×˜×™×¤×•×¡ ×§×˜×Ÿ (××™ ×‘)" },
            { fret: 3, dir: "×œ××˜×”", icon: "â¬‡ï¸", text: "×××©×™×›×™× (×¤×”)" },
            { fret: 0, dir: "×œ××¢×œ×”", icon: "â¬†ï¸", text: "×—×–×¨×” ××”×™×¨×” ×œ-0" },
            { fret: 5, dir: "×œ××˜×”", icon: "â¬‡ï¸", text: "×”×¦×¢×§×”! (×¡×•×œ ×’×‘×•×”)" },
            { fret: 3, dir: "×œ××¢×œ×”", icon: "â¬†ï¸", text: "×™×¨×™×“×” (×¤×”)" },
            { fret: 1, dir: "×œ××˜×”", icon: "â¬‡ï¸", text: "××ª×— (××™ ×‘)" },
            { fret: 0, dir: "×œ××¢×œ×”", icon: "â¬†ï¸", text: "×¡×™×•× ×”××©×¤×˜" },
            // ×¡×™×•× ×“×¨××˜×™
            { fret: 1, dir: "×œ××˜×”", icon: "â¬‡ï¸", text: "×§×™×©×•×˜ ××—×¨×•×Ÿ (××™ ×‘)" },
            { fret: 0, dir: "×œ××¢×œ×”", icon: "â¬†ï¸", text: "×¡×•×£ (×ª×Ÿ ×œ×–×” ×œ×¦×œ×¦×œ...)" }
        ];

        let index = 0;

        function playNext() {
            // 1. × ×™×§×•×™ ×”×œ×•×— - ××›×‘×™× ×”×›×œ
            for(let i=0; i<=7; i++) {
                let el = document.getElementById('f-costume-'+i) || document.getElementById('f-'+i);
                if(el) el.classList.remove('active');
            }

            // 2. ×‘×“×™×§×” ×× × ×’××¨ ×”×©×™×¨
            if (index >= melody.length) {
                document.getElementById('note-desc').innerText = "ğŸ‘ğŸ‘ ×¡×™×™××ª! ×œ×—×¥ ×œ× ×’×Ÿ ×©×•×‘";
                document.getElementById('pick-direction').innerText = "â†º";
                document.getElementById('btn').innerText = "×”×ª×—×œ ××—×“×©";
                index = 0;
                return;
            }

            // 3. ×œ×•×§×—×™× ××ª ×”×¦×¢×“ ×”× ×•×›×—×™
            const step = melody[index];

            // 4. ××“×œ×™×§×™× ××ª ×”×¡×¨×™×’ ×”× ×›×•×Ÿ
            const fretElement = document.getElementById('f-' + step.fret);
            if(fretElement) fretElement.classList.add('active');

            // 5. ××¢×“×›× ×™× ××ª ×”×˜×§×¡×˜ ×œ××©×ª××©
            document.getElementById('note-desc').innerText = step.text + " (×¡×¨×™×’ " + step.fret + ")";
            
            const pickDiv = document.getElementById('pick-direction');
            pickDiv.innerText = step.dir + " " + step.icon;
            
            // ×©×™× ×•×™ ×¦×‘×¢ ×œ×¤×™ ×›×™×•×•×Ÿ ×”×¤×¨×™×˜×”
            if (step.icon === "â¬‡ï¸") {
                pickDiv.style.color = "#2ecc71"; // ×™×¨×•×§ ×œ××˜×”
            } else {
                pickDiv.style.color = "#3498db"; // ×›×—×•×œ ×œ××¢×œ×”
            }

            document.getElementById('btn').innerText = "×”×‘× >>";

            // 6. ××ª×›×•× × ×™× ×œ×¦×¢×“ ×”×‘×
            index++;
        }
    </script>

</body>
</html>
